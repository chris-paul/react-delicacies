<!--
 * @Description: babbel 配置的基本说明
 * @Author: 廉恒凯
 * @Date: 2019-08-24 12:28:05
 * @LastEditTime: 2020-04-11 15:40:07
 * @LastEditors: 廉恒凯
 -->

### babel 配置

```
{
    "presets": [
        [
            "@babel/env",
            {
                "targets": {
                    "edge": "17",
                    "firefox": "60",
                    "chrome": "67",
                    "safari": "11.1"
                },
                "useBuiltIns": "usage"
            }
        ],
        [
            "@babel/preset-react",
        ],
    ],
    "plugins": [
        ["@babel/plugin-proposal-class-properties"],
        ["@babel/plugin-transform-runtime"],
        ["@babel/plugin-syntax-dynamic-import"],
        [
            "import", {
                "libraryName": "antd",
                "libraryDirectory": "es",
                "style": "css",
            }
        ],
    ]
}

```

#### 参数说明

-   presets 是插件集合体

    -   @babel/env 指定插件的运行环境

        -   useBuiltIns = usage,Babel 会在你使用到 ES2015+ 新特性时，自动添加 babel-polyfill 的引用, 也就是按需加载 polyfill

    -   @babel/preset-react react 的插件集合

-   babel-polyfill(https://www.jianshu.com/p/67dedc89b13d)

    Babel 默认只转换新的 JavaScript 句法（syntax），而不转换新的 API，比如 Iterator、Generator、Set、Maps、Proxy、Reflect、Symbol、Promise 等全局对象，以及一些定义在全局对象上的方法（比如 Object.assign）都不会转码。

-   @babel/plugin-transform-runtime

    babel-polyfill 的很多方法是全局的变量，使用这个包进行转换

-   plugins/import

    antd 的 css 包很大,按需引入可以减小 webpack 打包的体积, 否则必须全局单独引入 antd 的 css 文件

-   @babel/plugin-syntax-dynamic-import

    代码切割的时候, 可以使用动态 import(延迟加载文件,promise 写法),React.lazy(延迟加载组件,封装的更好可以和 Suspense 配合)等进行代码的切割,当使用 Babel 时，你要确保 Babel 能够解析动态 import 语法而不是将其进行转换。对于这一要求你需要 babel-plugin-syntax-dynamic-import 插件
